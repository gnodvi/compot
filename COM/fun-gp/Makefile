# -*-   mode: makefile ; coding: koi8   -*- ------------------------------------
#
#-------------------------------------------------------------------------------

include ./Make.mak

#-------------------------------------------------------------------------------

OPTIM = -O2 -fno-exceptions -Wall 

GCC_ = LANG=C  gcc -x c 

SOFT_DIR = $(HOME)/.MSOFT
SYS_LIBS = -lm #-lsocket

#----------------------------------------------

CC = LANG=C gcc -g


OPTIM = -fno-exceptions -Wall
GCC   = LANG=C gcc -O2
CPP   = c++ -O2
FLAGS = $(OPTIM) -D_UNIX -D_ENG

#-------------------------------------------------------------------------------

PROGS =  r_code 

all:   $(PROGS)  


#-------------------------------------------------------------------------------
#------------------------------------------------------------------

r_code: r_code.cc 
	 c++ ${FLAGS} -o $@ $< 

#-------------------------------------------------------------------------------

clean : 
	rm -f T/*.o $(PROGS)

#---------------------------------------------------------------

# The problem is that in the link step you tell the compiler to treat 
# hello.o as a C file. That fails.

# I have already given NeedHelp a solution/workaround in the thread
# "Configure "-x c" options with "--with-cflags" does not work for me."

# РЕШЕНИЕ: компилировать надо с флагом, а собирать уже обычным способом!
#
#-------------------------------------------------------------------------------
# 
#-------------------------------------------------------------------------------
